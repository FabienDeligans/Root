@page "/testDragAndDrop"

<h3>DragAndDrop</h3>
@if (Items != null)
{

    <div style="border-style: solid solid solid solid; border-color:black; padding-top: 20px">

        <ul ondragover="event.preventDefault();"
            ondragstart="event.dataTransfer.setData('', event.target.id);">
            @foreach (var item in Items.OrderBy(v => v.Position))
            {
                <li @ondrop="()=>HandleDrop(item)" @key="item">
                    <div @ondragleave="@(() => { item.IsDragOver = false; })"
                    @ondragenter="@(() => { item.IsDragOver = true; })"
                    @ondragstart="() => ItemToMove = item"
                    @ondragend="() => ItemToMove = null" draggable="true"
                    style="@(item.IsDragOver ? "border-style: dotted none none none; border-color:red; padding-top: 20px" : "")"
                    >
                    @item.Position | @item.Texte
                    </div>
                </li>
            }
        </ul>

    </div>
}